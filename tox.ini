[tox]
envlist = daily_batch, typechecks, stylechecks, lint
skipsdist = True

[testenv]
install_command = pip install {opts} {packages}

[testenv:daily_batch]
deps = -rrequirements.txt

setenv =
	PYTHONPATH=.

commands = python main_daily.py


[testenv:typechecks]
envdir = {toxworkdir}/daily_batch
deps = {[testenv:daily_batch]deps}
commands = {posargs:mypy config}

[testenv:stylechecks]
envdir = {toxworkdir}/daily_batch
deps = {[testenv:daily_batch]deps}
commands = {posargs:flake8 config}

[testenv:lint]
envdir = {toxworkdir}/daily_batch
deps = {[testenv:daily_batch]deps}
commands = 
		isort config 
		black config 
		mypy config
		flake8 config

[flake8]
ignore = E402
exclude = .git, env
max-line-length = 127